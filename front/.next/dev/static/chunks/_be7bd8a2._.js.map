{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/testetesteteste/front/app/components/modals/modal.tsx"],"sourcesContent":["import React, { ReactNode } from 'react';\r\n\r\ntype ModalProps = {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  children: ReactNode;\r\n};\r\n\r\nexport default function Modal({ isOpen, onClose, children }: ModalProps) {\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"modal-backdrop\" onClick={onClose}>\r\n      <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n        <button className=\"close-btn\" onClick={onClose}>×</button>\r\n        {children}\r\n      </div>\r\n\r\n      <style jsx>{`\r\n        .modal-backdrop {\r\n          position: fixed;\r\n          top: 0; left: 0; right: 0; bottom: 0;\r\n          background: rgba(0, 0, 0, 0.4);\r\n          display: flex; align-items: center; justify-content: center;\r\n          z-index: 1000;\r\n        }\r\n        .modal-content {\r\n          background: hsl(var(--card));\r\n          color: hsl(var(--card-foreground));\r\n          padding: 20px;\r\n          border-radius: 8px;\r\n          position: relative;\r\n          max-width: 500px;\r\n          width: 90%;\r\n          border: 1px solid hsl(var(--border));\r\n        }\r\n        .close-btn {\r\n          position: absolute;\r\n          top: 10px; right: 10px;\r\n          background: none; border: none;\r\n          font-size: 1.5rem; cursor: pointer;\r\n          color: hsl(var(--foreground));\r\n          opacity: 0.6;\r\n          transition: opacity 0.2s;\r\n        }\r\n        .close-btn:hover {\r\n          opacity: 1;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}\n"],"names":[],"mappings":";;;;;;;;AAQe,SAAS,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAc;IACrE,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACE,6LAAC;QAA+B,SAAS;kDAA1B;;0BACb,6LAAC;gBAA8B,SAAS,CAAC,IAAM,EAAE,eAAe;0DAAjD;;kCACb,6LAAC;wBAA6B,SAAS;kEAArB;kCAA8B;;;;;;oBAC/C;;;;;;;;;;;;;;;;;AAoCT;KA3CwB","debugId":null}},
    {"offset": {"line": 59, "column": 0}, "map": {"version":3,"sources":["file:///E:/testetesteteste/front/app/components/modals/editItemmodal.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState } from 'react';\r\nimport Modal from './modal';\r\nimport { useForm } from \"react-hook-form\";\r\nimport { AlimentosItf } from '@/app/utils/types/AlimentosItf';\r\nimport { useRouter } from 'next/navigation';\r\nimport { toast } from \"sonner\";\r\nimport Cookies from 'js-cookie';\r\ntype inputs = {\r\n  nome?: string;\r\n  peso?: number;\r\n};\r\n\r\nexport default function EditItemModal({ id, dispensaId }: { id: number, dispensaId: number }) {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const { register, handleSubmit } = useForm<AlimentosItf>();\r\n  const router = useRouter();\r\n\r\n  async function tryinput(data: inputs) {\r\n    console.log(\"Dados recebidos:\", data);\r\n    try {\r\n      const response = await fetch(`${process.env.NEXT_PUBLIC_URL_API}/alimentos/dispensa/${dispensaId}/alimentos/${id}`, {\r\n        method: \"PATCH\",\r\n        headers: { \"Content-Type\": \"application/json\" ,\r\n           Authorization: \"Bearer \" + Cookies.get(\"token\") || \"\"\r\n        },\r\n        body: JSON.stringify({\r\n          nome: data.nome,\r\n          peso: Number(data.peso),\r\n          \r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const contentType = response.headers.get(\"content-type\");\r\n        if (contentType && contentType.includes(\"application/json\")) {\r\n          const errorData = await response.json();\r\n          console.error(\"Erro ao enviar:\", errorData);\r\n        } else {\r\n          const errorText = await response.text();\r\n          console.error(\"Erro ao enviar (texto):\", errorText);\r\n        }\r\n      } else {\r\n        console.log(\"Item enviado com sucesso!\");\r\n        setIsOpen(false);\r\n        window.location.reload();\r\n        toast.success(\"Item enviado com sucesso!\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Erro de rede ou outra falha:\", error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <button\r\n        className=\"px-4 py-2 bg-[#2c2c2c] text-[#ffffff] rounded-md hover:bg-[#1e1e1e] font-medium\"\r\n        onClick={() => setIsOpen(true)}\r\n      >\r\n        Editar\r\n      </button>\r\n      <Modal isOpen={isOpen} onClose={() => setIsOpen(false)}>\r\n        <form onSubmit={handleSubmit(tryinput)}>\r\n          <label className=\"block text-sm font-medium text-foreground\">\r\n            Nome do alimento\r\n          </label>\r\n          <input\r\n            className=\"mt-1 block w-full rounded-md border border-input bg-background text-foreground shadow-sm\"\r\n            type=\"text\"\r\n            required\r\n            {...register(\"nome\")}\r\n          />\r\n          <label className=\"block text-sm font-medium text-foreground mt-4\">\r\n            Qtd\\Kg\r\n          </label>\r\n          <input\r\n            className=\"mt-1 block w-full rounded-md border border-input bg-background text-foreground shadow-sm\"\r\n            type=\"number\"\r\n            required\r\n            {...register(\"peso\", { valueAsNumber: true })}\r\n          />\r\n          <button\r\n            type=\"submit\"\r\n            className=\"mt-4 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 font-medium\"\r\n          >\r\n            Salvar\r\n          </button>\r\n        </form>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\n"],"names":[],"mappings":";;;;AAsBsC;;AApBtC;AACA;AACA;AAEA;AACA;AACA;;;AARA;;;;;;;AAce,SAAS,cAAc,EAAE,EAAE,EAAE,UAAU,EAAsC;;IAC1F,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAC;IACrC,MAAM,EAAE,QAAQ,EAAE,YAAY,EAAE,GAAG,IAAA,4KAAO;IAC1C,MAAM,SAAS,IAAA,kJAAS;IAExB,eAAe,SAAS,IAAY;QAClC,QAAQ,GAAG,CAAC,oBAAoB;QAChC,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,6DAAmC,oBAAoB,EAAE,WAAW,WAAW,EAAE,IAAI,EAAE;gBAClH,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;oBACxB,eAAe,YAAY,mKAAO,CAAC,GAAG,CAAC,YAAY;gBACtD;gBACA,MAAM,KAAK,SAAS,CAAC;oBACnB,MAAM,KAAK,IAAI;oBACf,MAAM,OAAO,KAAK,IAAI;gBAExB;YACF;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,cAAc,SAAS,OAAO,CAAC,GAAG,CAAC;gBACzC,IAAI,eAAe,YAAY,QAAQ,CAAC,qBAAqB;oBAC3D,MAAM,YAAY,MAAM,SAAS,IAAI;oBACrC,QAAQ,KAAK,CAAC,mBAAmB;gBACnC,OAAO;oBACL,MAAM,YAAY,MAAM,SAAS,IAAI;oBACrC,QAAQ,KAAK,CAAC,2BAA2B;gBAC3C;YACF,OAAO;gBACL,QAAQ,GAAG,CAAC;gBACZ,UAAU;gBACV,OAAO,QAAQ,CAAC,MAAM;gBACtB,oJAAK,CAAC,OAAO,CAAC;YAChB;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,gCAAgC;QAChD;IACF;IAEA,qBACE;;0BACE,6LAAC;gBACC,WAAU;gBACV,SAAS,IAAM,UAAU;0BAC1B;;;;;;0BAGD,6LAAC,mJAAK;gBAAC,QAAQ;gBAAQ,SAAS,IAAM,UAAU;0BAC9C,cAAA,6LAAC;oBAAK,UAAU,aAAa;;sCAC3B,6LAAC;4BAAM,WAAU;sCAA4C;;;;;;sCAG7D,6LAAC;4BACC,WAAU;4BACV,MAAK;4BACL,QAAQ;4BACP,GAAG,SAAS,OAAO;;;;;;sCAEtB,6LAAC;4BAAM,WAAU;sCAAiD;;;;;;sCAGlE,6LAAC;4BACC,WAAU;4BACV,MAAK;4BACL,QAAQ;4BACP,GAAG,SAAS,QAAQ;gCAAE,eAAe;4BAAK,EAAE;;;;;;sCAE/C,6LAAC;4BACC,MAAK;4BACL,WAAU;sCACX;;;;;;;;;;;;;;;;;;;AAOX;GA9EwB;;QAEa,4KAAO;QAC3B,kJAAS;;;KAHF","debugId":null}},
    {"offset": {"line": 212, "column": 0}, "map": {"version":3,"sources":["file:///E:/testetesteteste/front/app/context/PantryAssistantContext.ts"],"sourcesContent":["import { create } from \"zustand\"\r\nimport { persist } from \"zustand/middleware\"\r\n\r\nexport interface PantryMessage {\r\n  id: string\r\n  role: \"user\" | \"assistant\"\r\n  content: string\r\n  timestamp: Date\r\n}\r\n\r\nexport interface PantryItem {\r\n  nome: string\r\n  peso: number\r\n  unidadeTipo: string\r\n  perecivel: string\r\n  validade: string | null\r\n}\r\n\r\ntype PantryAssistantStore = {\r\n  messages: PantryMessage[]\r\n  isLoading: boolean\r\n  isOpen: boolean\r\n  dispensaId: number | null\r\n  addMessage: (message: PantryMessage) => void\r\n  clearMessages: () => void\r\n  setIsLoading: (loading: boolean) => void\r\n  setIsOpen: (open: boolean) => void\r\n  setDispensaId: (id: number | null) => void\r\n}\r\n\r\nexport const usePantryAssistantStore = create<PantryAssistantStore>()(\r\n  persist(\r\n    (set) => ({\r\n      messages: [],\r\n      isLoading: false,\r\n      isOpen: false,\r\n      dispensaId: null,\r\n      addMessage: (message) =>\r\n        set((state) => ({\r\n          messages: [...state.messages, message],\r\n        })),\r\n      clearMessages: () => set({ messages: [] }),\r\n      setIsLoading: (loading) => set({ isLoading: loading }),\r\n      setIsOpen: (open) => set({ isOpen: open }),\r\n      setDispensaId: (id) => set({ dispensaId: id }),\r\n    }),\r\n    {\r\n      name: \"pantry-assistant-store\",\r\n    },\r\n  ),\r\n)\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AA6BO,MAAM,0BAA0B,IAAA,qJAAM,IAC3C,IAAA,2JAAO,EACL,CAAC,MAAQ,CAAC;QACR,UAAU,EAAE;QACZ,WAAW;QACX,QAAQ;QACR,YAAY;QACZ,YAAY,CAAC,UACX,IAAI,CAAC,QAAU,CAAC;oBACd,UAAU;2BAAI,MAAM,QAAQ;wBAAE;qBAAQ;gBACxC,CAAC;QACH,eAAe,IAAM,IAAI;gBAAE,UAAU,EAAE;YAAC;QACxC,cAAc,CAAC,UAAY,IAAI;gBAAE,WAAW;YAAQ;QACpD,WAAW,CAAC,OAAS,IAAI;gBAAE,QAAQ;YAAK;QACxC,eAAe,CAAC,KAAO,IAAI;gBAAE,YAAY;YAAG;IAC9C,CAAC,GACD;IACE,MAAM;AACR","debugId":null}},
    {"offset": {"line": 253, "column": 0}, "map": {"version":3,"sources":["file:///E:/testetesteteste/front/app/components/PantryAssistantModal.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type React from \"react\"\r\nimport { useState } from \"react\"\r\nimport { usePantryAssistantStore } from \"@/app/context/PantryAssistantContext\"\r\nimport { X, Plus, Trash2, Package } from \"lucide-react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Card } from \"@/components/ui/card\"\r\nimport { toast } from \"sonner\"\r\nimport Cookies from \"js-cookie\"\r\nimport { useRouter } from \"next/navigation\"\r\n\r\ninterface ProductItem {\r\n  nome: string\r\n  peso: number\r\n  perecivel: string\r\n  unidadeTipo: string\r\n  validade: string\r\n}\r\n\r\nexport function PantryAssistantModal() {\r\n  const { isOpen, setIsOpen, dispensaId } = usePantryAssistantStore()\r\n\r\n  const [products, setProducts] = useState<ProductItem[]>([\r\n    {\r\n      nome: \"\",\r\n      peso: 0,\r\n      perecivel: \"NÃO\",\r\n      unidadeTipo: \"KG\",\r\n      validade: \"\",\r\n    },\r\n  ])\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const router = useRouter()\r\n\r\n  const addProduct = () => {\r\n    setProducts([\r\n      ...products,\r\n      {\r\n        nome: \"\",\r\n        peso: 0,\r\n        perecivel: \"NÃO\",\r\n        unidadeTipo: \"KG\",\r\n        validade: \"\",\r\n      },\r\n    ])\r\n  }\r\n\r\n  const removeProduct = (index: number) => {\r\n    if (products.length > 1) {\r\n      setProducts(products.filter((_, i) => i !== index))\r\n    }\r\n  }\r\n\r\n  const updateProduct = (index: number, field: keyof ProductItem, value: string | number) => {\r\n    const newProducts = [...products]\r\n    newProducts[index] = { ...newProducts[index], [field]: value }\r\n    setProducts(newProducts)\r\n  }\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n\r\n    if (!dispensaId) {\r\n      toast.error(\"Selecione uma dispensa primeiro\")\r\n      return\r\n    }\r\n\r\n    const invalidProducts = products.filter((p) => !p.nome.trim() || p.peso <= 0)\r\n    if (invalidProducts.length > 0) {\r\n      toast.error(\"Preencha todos os campos obrigatórios\")\r\n      return\r\n    }\r\n\r\n    setIsLoading(true)\r\n\r\n    try {\r\n      // E VAI PRO DB\r\n      for (const product of products) {\r\n        const payload = {\r\n          nome: product.nome,\r\n          peso: Number(product.peso),\r\n          perecivel: product.perecivel,\r\n          unidadeTipo: product.unidadeTipo,\r\n          dispensaId: dispensaId,\r\n          ...(product.validade && { validade: new Date(product.validade).toISOString() }),\r\n        }\r\n\r\n        const response = await fetch(`${process.env.NEXT_PUBLIC_URL_API}/alimentos/dispensa/${dispensaId}/alimentos`, {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: \"Bearer \" + Cookies.get(\"token\") || \"\",\r\n          },\r\n          body: JSON.stringify(payload),\r\n        })\r\n\r\n        if (!response.ok) {\r\n          throw new Error(`Erro ao adicionar ${product.nome}`)\r\n        }\r\n      }\r\n\r\n      toast.success(\r\n        `${products.length} ${products.length === 1 ? \"item adicionado\" : \"itens adicionados\"} com sucesso!`,\r\n        {\r\n          style: {\r\n            background: \"#00c950\",\r\n            color: \"#ffffff\",\r\n          },\r\n        },\r\n      )\r\n      // formulário reset\r\n      setProducts([\r\n        {\r\n          nome: \"\",\r\n          peso: 0,\r\n          perecivel: \"NÃO\",\r\n          unidadeTipo: \"KG\",\r\n          validade: \"\",\r\n        },\r\n      ])\r\n\r\n      setIsOpen(false)\r\n\r\n      // refreshizinhop pq as vezes n atualiza a lista\r\n      setTimeout(() => {\r\n        router.refresh()\r\n      }, 500)\r\n    } catch (error) {\r\n      toast.error(\"Erro ao adicionar itens\")\r\n      console.error(error)\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  if (!isOpen) return null\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4\">\r\n      <Card className=\"w-full max-w-4xl max-h-[90vh] flex flex-col bg-white border border-slate-200 shadow-xl\">\r\n        <div className=\"flex items-center justify-between p-4 border-b border-slate-200\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <Package className=\"w-5 h-5 text-green-600\" />\r\n            <h3 className=\"font-semibold text-slate-900\">Adicionar Itens à Dispensa</h3>\r\n          </div>\r\n          <button onClick={() => setIsOpen(false)} className=\"text-slate-500 hover:text-slate-700\">\r\n            <X className=\"w-5 h-5\" />\r\n          </button>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className=\"flex flex-col flex-1 overflow-hidden\">\r\n          <div className=\"flex-1 overflow-y-auto p-6 space-y-6\">\r\n            {products.map((product, index) => (\r\n              <div key={index} className=\"border border-slate-200 rounded-lg p-4 bg-slate-50 relative\">\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                  <h4 className=\"font-medium text-slate-900\">Produto {index + 1}</h4>\r\n                  {products.length > 1 && (\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => removeProduct(index)}\r\n                      className=\"text-red-500 hover:text-red-700 transition-colors\"\r\n                    >\r\n                      <Trash2 className=\"w-4 h-4\" />\r\n                    </button>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n                      Nome do Item <span className=\"text-red-500\">*</span>\r\n                    </label>\r\n                    <Input\r\n                      value={product.nome}\r\n                      onChange={(e) => updateProduct(index, \"nome\", e.target.value)}\r\n                      placeholder=\"Ex: Arroz, Feijão, Maçã\"\r\n                      className=\"bg-white border-slate-200\"\r\n                      required\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n                      Quantidade/Peso <span className=\"text-red-500\">*</span>\r\n                    </label>\r\n                    <Input\r\n                      type=\"number\"\r\n                      step=\"0.01\"\r\n                      min=\"0.01\"\r\n                      value={product.peso || \"\"}\r\n                      onChange={(e) => updateProduct(index, \"peso\", Number(e.target.value))}\r\n                      placeholder=\"Ex: 2.5\"\r\n                      className=\"bg-white border-slate-200\"\r\n                      required\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n                      Unidade <span className=\"text-red-500\">*</span>\r\n                    </label>\r\n                    <select\r\n                      value={product.unidadeTipo}\r\n                      onChange={(e) => updateProduct(index, \"unidadeTipo\", e.target.value)}\r\n                      className=\"w-full rounded-md border border-slate-200 bg-white text-slate-900 shadow-sm px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-500\"\r\n                      required\r\n                    >\r\n                      <option value=\"KG\">Quilograma (KG)</option>\r\n                      <option value=\"PCT\">Pacote (PCT)</option>\r\n                      <option value=\"REDE\">Rede (REDE)</option>\r\n                      <option value=\"DUZIA\">Dúzia (DUZIA)</option>\r\n                      <option value=\"LT\">Litro (LT)</option>\r\n                      <option value=\"Unid\">Unidade (Unid)</option>\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n                      Perecível <span className=\"text-red-500\">*</span>\r\n                    </label>\r\n                    <select\r\n                      value={product.perecivel}\r\n                      onChange={(e) => updateProduct(index, \"perecivel\", e.target.value)}\r\n                      className=\"w-full rounded-md border border-slate-200 bg-white text-slate-900 shadow-sm px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-500\"\r\n                      required\r\n                    >\r\n                      <option value=\"NÃO\">Não</option>\r\n                      <option value=\"SIM\">Sim</option>\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div className=\"md:col-span-2\">\r\n                    <label className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n                      Data de Validade <span className=\"text-slate-500 text-xs\">(opcional)</span>\r\n                    </label>\r\n                    <Input\r\n                      type=\"date\"\r\n                      value={product.validade}\r\n                      onChange={(e) => updateProduct(index, \"validade\", e.target.value)}\r\n                      className=\"bg-white border-slate-200\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n\r\n            <Button\r\n              type=\"button\"\r\n              onClick={addProduct}\r\n              variant=\"outline\"\r\n              className=\"w-full border-dashed border-2 border-slate-300 hover:border-green-600 hover:bg-green-50 text-slate-700 hover:text-green-700 bg-transparent\"\r\n            >\r\n              <Plus className=\"w-4 h-4 mr-2\" />\r\n              Adicionar outro produto\r\n            </Button>\r\n          </div>\r\n\r\n          <div className=\"p-4 border-t border-slate-200 bg-white flex justify-end gap-3\">\r\n            <Button\r\n              type=\"button\"\r\n              onClick={() => setIsOpen(false)}\r\n              variant=\"outline\"\r\n              className=\"border-slate-200 text-slate-700\"\r\n              disabled={isLoading}\r\n            >\r\n              Cancelar\r\n            </Button>\r\n            <Button\r\n              type=\"submit\"\r\n              disabled={isLoading}\r\n              className=\"bg-green-600 hover:bg-green-700 text-white min-w-[120px]\"\r\n            >\r\n              {isLoading\r\n                ? \"Adicionando...\"\r\n                : `Adicionar ${products.length} ${products.length === 1 ? \"Item\" : \"Itens\"}`}\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 849, "column": 0}, "map": {"version":3,"sources":["file:///E:/testetesteteste/front/app/components/modals/userModal.tsx"],"sourcesContent":["\"use client\"\n\nimport { LucideUserPlus2, Search, X } from \"lucide-react\"\nimport { useEffect, useState } from \"react\"\nimport Modal from \"./modal\"\nimport type { ClienteItf } from \"@/app/utils/types/ClienteItf\"\nimport { toast } from \"sonner\"\nimport Cookies from \"js-cookie\"\n\ninterface UserModalProps {\n  dispensaId: number\n  onUserAdded?: (user: ClienteItf) => void\n}\n\nexport default function UserModal({ dispensaId, onUserAdded }: UserModalProps) {\n  const [isOpen, setIsOpen] = useState(false)\n  const [clientes, setClientes] = useState<ClienteItf[]>([])\n  const [membros, setMembros] = useState<ClienteItf[]>([])\n  const [clientesFiltrados, setClientesFiltrados] = useState<ClienteItf[]>([])\n  const [usuarioLogadoId, setUsuarioLogadoId] = useState<string | null>(null)\n  const [searchTerm, setSearchTerm] = useState(\"\")\n\n  const getInitial = (name: string | undefined): string => {\n    return name?.charAt(0).toUpperCase() || \"U\"\n  }\n\n  useEffect(() => {\n    const carregarDados = async () => {\n      if (!isOpen) return\n\n      try {\n        const usuarioRes = await fetch(`${process.env.NEXT_PUBLIC_URL_API}/clientes`, {\n          headers: {\n            Authorization: \"Bearer \" + (Cookies.get(\"token\") || \"\"),\n          },\n        })\n\n        if (!usuarioRes.ok) throw new Error(\"Erro ao buscar usuário logado\")\n\n        const usuarioLogado = await usuarioRes.json()\n        setUsuarioLogadoId(usuarioLogado.id)\n\n        const [clientesRes, dispensaRes] = await Promise.all([\n          fetch(`${process.env.NEXT_PUBLIC_URL_API}/clientes`),\n          fetch(`${process.env.NEXT_PUBLIC_URL_API}/dispensa/${dispensaId}`),\n        ])\n\n        const todosClientes: ClienteItf[] = await clientesRes.json()\n        const dadosDispensa = await dispensaRes.json()\n        const membrosDaDispensa: ClienteItf[] = dadosDispensa?.membros || []\n\n        setClientes(todosClientes)\n        setMembros(membrosDaDispensa)\n\n        const idsExcluidos = new Set([...membrosDaDispensa.map((m) => m.id), usuarioLogado.id])\n\n        const disponiveis = todosClientes.filter((c) => !idsExcluidos.has(c.id))\n        setClientesFiltrados(disponiveis)\n      } catch (err) {\n        console.error(\"Erro ao buscar dados:\", err)\n        toast.error(\"Erro ao carregar usuários.\")\n      }\n    }\n\n    carregarDados()\n  }, [isOpen, dispensaId])\n\n  const handleSelecionarUsuario = async (user: ClienteItf) => {\n    try {\n      const res = await fetch(`${process.env.NEXT_PUBLIC_URL_API}/dispensaInvites`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + (Cookies.get(\"token\") || \"\"),\n        },\n        body: JSON.stringify({\n          dispensaId: dispensaId,\n          convidadoId: user.id,\n        }),\n      })\n\n      if (!res.ok) {\n        const error = await res.json()\n        toast.error(`Erro ao enviar convite: ${error?.erro || \"Erro desconhecido\"}`)\n        return\n      }\n\n      toast.success(`Convite enviado para \"${user.nome}\"!`)\n      setIsOpen(false)\n    } catch (err) {\n      console.error(\"Erro na requisição de convite:\", err)\n      toast.error(\"Erro de rede ao enviar convite.\")\n    }\n  }\n\n  const usuariosFiltradosPorBusca = clientesFiltrados.filter(\n    (cliente) =>\n      cliente.nome?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      cliente.email?.toLowerCase().includes(searchTerm.toLowerCase()),\n  )\n\n  return (\n    <>\n      <button\n        className=\"px-4 py-2 bg-[#2c2c2c] text-[#ffffff] rounded-md hover:bg-[#1e1e1e] font-medium flex items-center gap-2 transition-colors\"\n        onClick={() => setIsOpen(true)}\n      >\n        <span>Convidar usuário</span>\n        <LucideUserPlus2 size={16} />\n      </button>\n\n      <Modal isOpen={isOpen} onClose={() => setIsOpen(false)}>\n        <div className=\"max-w-2xl mx-auto px-4 sm:px-6 py-6\">\n          \n          <div className=\"flex items-center justify-between mb-6\">\n            <div>\n              <h2 className=\"text-2xl font-bold text-gray-900\">Convidar Usuário</h2>\n              <p className=\"text-sm text-gray-500 mt-1\">Envie um convite para participar da dispensa</p>\n            </div>\n            <button onClick={() => setIsOpen(false)} className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\">\n              <X size={20} className=\"text-gray-500\" />\n            </button>\n          </div>\n\n        \n          <div className=\"relative mb-6\">\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" size={20} />\n            <input\n              type=\"text\"\n              placeholder=\"Buscar por nome ou email...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-shadow\"\n            />\n          </div>\n\n         \n          <div className=\"space-y-3 max-h-[400px] overflow-y-auto pr-2\">\n            {usuariosFiltradosPorBusca.length === 0 ? (\n              <div className=\"text-center py-12\">\n                <div className=\"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n                  <LucideUserPlus2 size={32} className=\"text-gray-400\" />\n                </div>\n                <p className=\"text-gray-500 font-medium\">Nenhum usuário encontrado</p>\n                <p className=\"text-sm text-gray-400 mt-1\">Tente buscar por outro nome ou email</p>\n              </div>\n            ) : (\n              usuariosFiltradosPorBusca.map((cliente) => (\n                <button\n                  key={cliente.id}\n                  onClick={() => handleSelecionarUsuario(cliente)}\n                  className=\"w-full bg-white rounded-lg border border-gray-200 hover:border-green-500 hover:shadow-md transition-all duration-200 flex items-center p-4 gap-4 text-left group\"\n                >\n                  <div className=\"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center shadow-sm group-hover:shadow-md group-hover:scale-105 transition-transform\">\n                    <span className=\"text-xl font-bold text-white select-none\">{getInitial(cliente?.nome)}</span>\n                  </div>\n                  <div className=\"flex-1 min-w-0\">\n                    <h3 className=\"text-base font-semibold text-gray-900 truncate\">\n                      {cliente?.nome || \"Nome do Usuário\"}\n                    </h3>\n                    <p className=\"text-sm text-gray-500 truncate\">{cliente.email}</p>\n                  </div>\n                  <div className=\"opacity-0 group-hover:opacity-100 transition-opacity\">\n                    <LucideUserPlus2 size={20} className=\"text-green-600\" />\n                  </div>\n                </button>\n              ))\n            )}\n          </div>\n        </div>\n      </Modal>\n    </>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1197, "column": 0}, "map": {"version":3,"sources":["file:///E:/testetesteteste/front/components/ui/avatar.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as AvatarPrimitive from '@radix-ui/react-avatar'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Avatar({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof AvatarPrimitive.Root>) {\r\n  return (\r\n    <AvatarPrimitive.Root\r\n      data-slot=\"avatar\"\r\n      className={cn(\r\n        'relative flex size-8 shrink-0 overflow-hidden rounded-full',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction AvatarImage({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof AvatarPrimitive.Image>) {\r\n  return (\r\n    <AvatarPrimitive.Image\r\n      data-slot=\"avatar-image\"\r\n      className={cn('aspect-square size-full', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction AvatarFallback({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {\r\n  return (\r\n    <AvatarPrimitive.Fallback\r\n      data-slot=\"avatar-fallback\"\r\n      className={cn(\r\n        'bg-muted flex size-full items-center justify-center rounded-full',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Avatar, AvatarImage, AvatarFallback }\n"],"names":[],"mappings":";;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,6LAAC,6KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,8DACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,2BAA2B;QACxC,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,eAAe,EACtB,SAAS,EACT,GAAG,OACmD;IACtD,qBACE,6LAAC,iLAAwB;QACvB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,oEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS","debugId":null}},
    {"offset": {"line": 1260, "column": 0}, "map": {"version":3,"sources":["file:///E:/testetesteteste/front/app/dispensa/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\"\r\nimport { Search, Settings, BarChart3, History } from \"lucide-react\"\r\nimport EditItemModal from \"@/app/components/modals/editItemmodal\"\r\nimport { PantryAssistantModal } from \"@/app/components/PantryAssistantModal\"\r\nimport { useEffect, useState } from \"react\"\r\nimport type { AlimentosItf } from \"../../utils/types/AlimentosItf\"\r\nimport { useParams, useRouter } from \"next/navigation\"\r\nimport UserModal from \"@/app/components/modals/userModal\"\r\nimport type { DispensaItf } from \"@/app/utils/types/DispensaItf\"\r\nimport { PieChart, Pie, Cell, Tooltip, Legend, ResponsiveContainer } from \"recharts\"\r\nimport type { ClienteItf } from \"@/app/utils/types/ClienteItf\"\r\nimport Cookies from \"js-cookie\"\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport Link from \"next/link\"\r\nimport { toast } from \"sonner\"\r\nimport { useChatbotStore } from \"@/app/context/ChatBotContext\"\r\nimport { usePantryAssistantStore } from \"@/app/context/PantryAssistantContext\"\r\n\r\nexport default function InstanciaPage() {\r\n  const [alimentos, setPropostas] = useState<AlimentosItf[]>([])\r\n  const [alimentoSelecionado, setAlimentoSelecionado] = useState<AlimentosItf | null>(null)\r\n  const [dispensa, setDispensa] = useState<DispensaItf | null>(null)\r\n  const [showConfigForm, setShowConfigForm] = useState(false)\r\n  const [showGrafico, setShowGrafico] = useState(false)\r\n  const [funcionario, setFuncionario] = useState<ClienteItf[]>([])\r\n  const params = useParams()\r\n  const dispensaId = params?.id\r\n  const router = useRouter()\r\n  const [logado, setLogado] = useState<boolean>(false)\r\n  const [mostrarUso, setMostrarUso] = useState(false)\r\n  const [historico, setHistorico] = useState<any[]>([])\r\n  const [searchTerm, setSearchTerm] = useState(\"\")\r\n  const { addSelectedItem, removeSelectedItem, selectedItems } = useChatbotStore()\r\n  const { setIsOpen: setPantryAssistantOpen, setDispensaId } = usePantryAssistantStore()\r\n\r\n  async function buscarHistoricoUso() {\r\n    try {\r\n      const response = await fetch(`${process.env.NEXT_PUBLIC_URL_API}/alimentos/relatorio/${dispensaId}`, {\r\n        headers: {\r\n          Authorization: \"Bearer \" + Cookies.get(\"token\"),\r\n        },\r\n      })\r\n      const dados = await response.json()\r\n      setHistorico(dados)\r\n      setMostrarUso(true)\r\n    } catch (error) {\r\n      console.error(\"Erro ao buscar histórico:\", error)\r\n      alert(\"Erro ao buscar histórico de uso.\")\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (Cookies.get(\"token\")) {\r\n      setLogado(true)\r\n    } else {\r\n      router.replace(\"/\")\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    async function buscaDados() {\r\n      try {\r\n        const response = await fetch(`${process.env.NEXT_PUBLIC_URL_API}/alimentos/dispensa/${dispensaId}/alimentos`)\r\n        const dados = await response.json()\r\n        setPropostas(dados)\r\n      } catch (error) {\r\n        console.error(\"Falha ao buscar alimentos:\", error)\r\n      }\r\n    }\r\n\r\n    async function buscaDispensa() {\r\n      try {\r\n        const response = await fetch(`${process.env.NEXT_PUBLIC_URL_API}/dispensa/${dispensaId}`)\r\n        const dados = await response.json()\r\n        setDispensa(dados)\r\n        setFuncionario(dados.membros || [])\r\n      } catch (error) {\r\n        console.error(\"Falha ao buscar dados da dispensa:\", error)\r\n      }\r\n    }\r\n\r\n    if (dispensaId) {\r\n      buscaDados()\r\n      buscaDispensa()\r\n      setDispensaId(Number(dispensaId))\r\n    }\r\n  }, [dispensaId])\r\n\r\n  function handleCloseDetails() {\r\n    setAlimentoSelecionado(null)\r\n  }\r\n\r\n  async function handleDeleteItem(id: number) {\r\n    try {\r\n      await fetch(`${process.env.NEXT_PUBLIC_URL_API}/alimentos/${id}`, {\r\n        method: \"DELETE\",\r\n      })\r\n      setPropostas((prev) => prev.filter((item) => item.id !== id))\r\n      handleCloseDetails()\r\n      toast.success(\"Item deletado com sucesso!\", {\r\n        style: {\r\n          background: \"#00c950\",\r\n          color: \"#ffffff\",\r\n        },\r\n      })\r\n    } catch (error) {\r\n      console.error(\"Erro ao deletar alimento:\", error)\r\n      toast.error(\"Erro ao deletar item. Tente novamente.\")\r\n    }\r\n  }\r\n\r\n  async function handleDeletePage(id: number) {\r\n    try {\r\n      await fetch(`${process.env.NEXT_PUBLIC_URL_API}/dispensa/${id}`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + Cookies.get(\"token\") || \"\",\r\n        },\r\n      })\r\n      setDispensa(null)\r\n      setShowConfigForm(false)\r\n      toast.success(\"Dispensa deletada com sucesso!\", {\r\n        style: {\r\n          background: \"#00c950\",\r\n          color: \"#ffffff\",\r\n        },\r\n      })\r\n      router.push(\"/perfil\")\r\n    } catch (error) {\r\n      console.error(\"Erro ao deletar dispensa:\", error)\r\n      toast.error(\"Erro ao deletar dispensa. Tente novamente.\")\r\n    }\r\n  }\r\n\r\n  const COLORS = [\"#8884d8\", \"#82ca9d\", \"#ffc658\", \"#ff7f50\", \"#a28fd0\", \"#ffb6b9\", \"#c6e2ff\"]\r\n\r\n  const alimentosFiltrados = alimentos.filter((alimento) =>\r\n    alimento.nome.toLowerCase().includes(searchTerm.toLowerCase()),\r\n  )\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[#f8fafc]\">\r\n      <main className=\"max-w-7xl mx-auto px-6 py-8\">\r\n        <div className=\"mb-8\">\r\n          <h1 className=\"text-[#1d293d] text-2xl font-semibold mb-6\">Controle da dispensa {dispensa?.nome}</h1>\r\n\r\n          <div className=\"flex items-center gap-4 flex-wrap\">\r\n            <div className=\"relative flex-1 min-w-[300px]\">\r\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#90a1b9] w-4 h-4\" />\r\n              <Input\r\n                placeholder=\"Buscar item...\"\r\n                className=\"pl-10 bg-white border-[#e2e8f0] text-[#444444]\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n              />\r\n            </div>\r\n            <Button onClick={() => setPantryAssistantOpen(true)} className=\"bg-[#2c2c2c] hover:bg-[#1e1e1e] text-white\">\r\n              Adicione um item\r\n            </Button>\r\n            <Button\r\n              variant=\"outline\"\r\n              className=\"border-[#e2e8f0] text-[#444444] bg-transparent\"\r\n              onClick={() => setShowConfigForm(true)}\r\n            >\r\n              <Settings className=\"w-4 h-4 mr-2\" />\r\n              Config\r\n            </Button>\r\n            <Button className=\"bg-[#00c950] hover:bg-[#00a63e] text-white\" onClick={() => setShowGrafico(true)}>\r\n              <BarChart3 className=\"w-4 h-4 mr-2\" />\r\n              Gráfico\r\n            </Button>\r\n            <Link href={`/relatorios/${dispensaId}`}>\r\n              <Button className=\"bg-[#00c950] hover:bg-[#00a63e] text-white\">\r\n                <History className=\"w-4 h-4 mr-2\" />\r\n                Histórico de Uso\r\n              </Button>\r\n            </Link>\r\n            <UserModal\r\n              dispensaId={Number(dispensaId)}\r\n              onUserAdded={(user) => {\r\n                setFuncionario((prev) => {\r\n                  if (prev.some((f) => f.id === user.id)) return prev\r\n                  return [...prev, user]\r\n                })\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8\">\r\n          {/* Employees Card */}\r\n          <Card className=\"bg-white border-[#e2e8f0]\">\r\n            <CardHeader>\r\n              <CardTitle className=\"text-[#1d293d] text-lg\">Funcionários</CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              {funcionario.length > 0 ? (\r\n                funcionario.map((employee, index) => (\r\n                  <div key={index} className=\"flex items-center gap-3\">\r\n                    <Avatar className=\"w-8 h-8\">\r\n                      <AvatarFallback className=\"bg-[#c6d2ff] text-[#432dd7] text-xs\">\r\n                        {employee.nome\r\n                          .split(\" \")\r\n                          .map((n) => n[0])\r\n                          .join(\"\")\r\n                          .slice(0, 2)\r\n                          .toUpperCase()}\r\n                      </AvatarFallback>\r\n                    </Avatar>\r\n                    <span className=\"text-[#444444] text-sm\">{employee.nome}</span>\r\n                  </div>\r\n                ))\r\n              ) : (\r\n                <p className=\"text-sm text-[#90a1b9] text-center py-4\">Nenhum funcionário cadastrado.</p>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {/* Stock Card */}\r\n          <Card className=\"lg:col-span-2 bg-white border-[#e2e8f0]\">\r\n            <CardHeader className=\"flex flex-row items-center justify-between\">\r\n              <CardTitle className=\"text-[#1d293d] text-lg\">Seu estoque</CardTitle>\r\n              <Button\r\n                className=\"bg-[#00c950] hover:bg-[#00a63e] text-white\"\r\n                onClick={() => setMostrarUso((prev) => !prev)}\r\n              >\r\n                {mostrarUso ? \"Fechar uso de alimentos\" : \"Registrar uso de alimentos\"}\r\n              </Button>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"w-full\">\r\n                  <thead>\r\n                    <tr className=\"border-b border-[#e2e8f0]\">\r\n                      <th className=\"text-left py-3 text-[#62748e] text-sm font-medium\">ID</th>\r\n                      <th className=\"text-left py-3 text-[#62748e] text-sm font-medium\">Nome</th>\r\n                      <th className=\"text-right py-3 text-[#62748e] text-sm font-medium\">Quantidade</th>\r\n                      <th className=\"text-center py-3 text-[#62748e] text-sm font-medium\">Chat</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {alimentosFiltrados.length > 0 ? (\r\n                      alimentosFiltrados.map((item) => (\r\n                        <tr\r\n                          key={item.id}\r\n                          className=\"border-b border-[#f1f5f9] hover:bg-[#f8fafc] cursor-pointer\"\r\n                          onClick={() => setAlimentoSelecionado(item)}\r\n                        >\r\n                          <td className=\"py-3 text-[#444444] text-sm\">{item.id}</td>\r\n                          <td className=\"py-3 text-[#444444] text-sm\">{item.nome}</td>\r\n                          <td className=\"py-3 text-right text-[#444444] text-sm font-medium\">\r\n                            {item.unidadeTipo} {item.peso}\r\n                          </td>\r\n                          <td className=\"py-3 text-center\">\r\n                            <button\r\n                              onClick={(e) => {\r\n                                e.stopPropagation()\r\n                                if (selectedItems.some((i) => i.id === item.id)) {\r\n                                  removeSelectedItem(item.id)\r\n                                  toast.success(\"Item removido do chat\", {\r\n                                    style: { background: \"#00c950\", color: \"#ffffff\" },\r\n                                  })\r\n                                } else {\r\n                                  addSelectedItem({\r\n                                    id: item.id,\r\n                                    nome: item.nome,\r\n                                    peso: item.peso,\r\n                                    unidadeTipo: item.unidadeTipo,\r\n                                  })\r\n                                  toast.success(\"Item adicionado ao chat\", {\r\n                                    style: { background: \"#00c950\", color: \"#ffffff\" },\r\n                                  })\r\n                                }\r\n                              }}\r\n                              className={`px-3 py-1 rounded text-xs font-semibold transition-colors ${\r\n                                selectedItems.some((i) => i.id === item.id)\r\n                                  ? \"bg-green-600 text-white\"\r\n                                  : \"bg-slate-200 text-slate-700 hover:bg-slate-300\"\r\n                              }`}\r\n                            >\r\n                              {selectedItems.some((i) => i.id === item.id) ? \"✓\" : \"+\"}\r\n                            </button>\r\n                          </td>\r\n                        </tr>\r\n                      ))\r\n                    ) : (\r\n                      <tr>\r\n                        <td colSpan={4} className=\"text-center py-8 text-[#90a1b9]\">\r\n                          {searchTerm ? \"Nenhum item encontrado.\" : \"Nenhum item no estoque.\"}\r\n                        </td>\r\n                      </tr>\r\n                    )}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n\r\n        {mostrarUso && (\r\n          <Card className=\"bg-white border-[#e2e8f0]\">\r\n            <CardHeader>\r\n              <CardTitle className=\"text-[#1d293d] text-lg\">Registrar uso de alimentos</CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <form\r\n                onSubmit={async (e) => {\r\n                  e.preventDefault()\r\n                  const formData = new FormData(e.currentTarget)\r\n\r\n                  const entradas = alimentos\r\n                    .map((alimento) => {\r\n                      const valor = formData.get(`alimento-${alimento.id}`)\r\n                      const numero = Number(valor)\r\n                      return valor && !isNaN(numero) && numero > 0 ? { id: alimento.id, quantidade: numero } : null\r\n                    })\r\n                    .filter(Boolean)\r\n\r\n                  if (entradas.length === 0) return alert(\"Nenhuma quantidade válida informada.\")\r\n\r\n                  try {\r\n                    const response = await fetch(`${process.env.NEXT_PUBLIC_URL_API}/alimentos/relatorio`, {\r\n                      method: \"POST\",\r\n                      headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                        Authorization: \"Bearer \" + Cookies.get(\"token\"),\r\n                      },\r\n                      body: JSON.stringify({\r\n                        alimentos: entradas,\r\n                        dispensaId: Number(dispensaId),\r\n                      }),\r\n                    })\r\n\r\n                    if (response.ok) {\r\n                      alert(\"Uso registrado com sucesso.\")\r\n                      location.reload()\r\n                    } else {\r\n                      const erro = await response.json()\r\n                      console.error(erro)\r\n                      alert(\"Erro ao registrar uso: \" + (erro?.error || \"Erro desconhecido\"))\r\n                    }\r\n                  } catch (error) {\r\n                    console.error(error)\r\n                    alert(\"Erro inesperado.\")\r\n                  }\r\n                }}\r\n              >\r\n                {alimentos.map((item, index) => (\r\n                  <div key={index} className=\"flex items-center gap-4\">\r\n                    <div className=\"w-32 text-[#444444] text-sm font-medium\">{item.nome}</div>\r\n                    <div className=\"flex-1\">\r\n                      <Input\r\n                        type=\"number\"\r\n                        step=\"0.01\"\r\n                        name={`alimento-${item.id}`}\r\n                        placeholder={`em ${item.unidadeTipo.toLowerCase()}`}\r\n                        className=\"bg-[#f8fafc] border-[#e2e8f0] text-[#444444]\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"text-[#90a1b9] text-sm w-32 text-right\">Disponível: {item.peso}</div>\r\n                  </div>\r\n                ))}\r\n                <div className=\"pt-4\">\r\n                  <Button type=\"submit\" className=\"bg-[#00c950] hover:bg-[#00a63e] text-white\">\r\n                    Enviar\r\n                  </Button>\r\n                </div>\r\n              </form>\r\n            </CardContent>\r\n          </Card>\r\n        )}\r\n\r\n        {alimentoSelecionado && (\r\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n            <div className=\"bg-white p-6 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-xl border border-[#e2e8f0]\">\r\n              <button\r\n                onClick={handleCloseDetails}\r\n                className=\"float-right font-bold text-[#90a1b9] hover:text-[#1d293d]\"\r\n              >\r\n                ✕\r\n              </button>\r\n              <h2 className=\"text-2xl font-bold text-[#1d293d] mb-4\">{alimentoSelecionado.nome}</h2>\r\n              <p className=\"mb-2 text-[#444444]\">\r\n                <strong>ID:</strong> {alimentoSelecionado.id}\r\n              </p>\r\n              <p className=\"mb-2 text-[#444444]\">\r\n                <strong>Peso:</strong> {alimentoSelecionado.peso} {alimentoSelecionado.unidadeTipo}\r\n              </p>\r\n              <p className=\"mb-2 text-[#444444]\">\r\n                <strong>Tipo de Unidade:</strong> {alimentoSelecionado.unidadeTipo}\r\n              </p>\r\n              {alimentoSelecionado.perecivel && (\r\n                <p className=\"mb-4 text-[#444444]\">\r\n                  <strong>Perecível:</strong> {alimentoSelecionado.perecivel}\r\n                </p>\r\n              )}\r\n\r\n              <div className=\"flex gap-3 mt-4\">\r\n                <EditItemModal id={Number(alimentoSelecionado?.id)} dispensaId={Number(dispensaId)} />\r\n                <button\r\n                  onClick={() => {\r\n                    if (alimentoSelecionado) handleDeleteItem(alimentoSelecionado.id)\r\n                  }}\r\n                  className=\"bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-4 rounded-xl transition-colors\"\r\n                >\r\n                  Deletar\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {showConfigForm && (\r\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n            <div className=\"bg-white p-6 rounded-2xl max-w-md w-full shadow-xl border border-[#e2e8f0]\">\r\n              <button\r\n                onClick={() => setShowConfigForm(false)}\r\n                className=\"float-right font-bold text-[#90a1b9] hover:text-[#1d293d]\"\r\n              >\r\n                ✕\r\n              </button>\r\n\r\n              <h2 className=\"text-xl font-bold text-[#1d293d] mb-4\">Configurações da Dispensa</h2>\r\n\r\n              {dispensa ? (\r\n                <p className=\"text-[#444444] mb-4\">\r\n                  <strong>Nome:</strong> {dispensa.nome}\r\n                </p>\r\n              ) : (\r\n                <p className=\"text-sm text-[#90a1b9] mb-4\">Carregando nome da dispensa...</p>\r\n              )}\r\n\r\n              <button\r\n                onClick={() => {\r\n                  if (dispensaId) handleDeletePage(Number(dispensaId))\r\n                }}\r\n                className=\"bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-4 rounded-xl transition-colors\"\r\n              >\r\n                Deletar Dispensa\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {showGrafico && (\r\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n            <div className=\"bg-white p-6 rounded-2xl max-w-lg w-full shadow-xl border border-[#e2e8f0]\">\r\n              <button\r\n                onClick={() => setShowGrafico(false)}\r\n                className=\"float-right font-bold text-[#90a1b9] hover:text-[#1d293d]\"\r\n              >\r\n                ✕\r\n              </button>\r\n\r\n              <h2 className=\"text-xl font-bold text-[#1d293d] mb-4\">Distribuição do Estoque</h2>\r\n\r\n              <ResponsiveContainer width=\"100%\" height={400}>\r\n                <PieChart>\r\n                  <Pie\r\n                    data={alimentos.map((item) => ({ name: item.nome, value: Number(item.peso) }))}\r\n                    dataKey=\"value\"\r\n                    nameKey=\"name\"\r\n                    cx=\"50%\"\r\n                    cy=\"50%\"\r\n                    outerRadius={100}\r\n                    fill=\"#8884d8\"\r\n                    label\r\n                  >\r\n                    {alimentos.map((_, index) => (\r\n                      <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\r\n                    ))}\r\n                  </Pie>\r\n                  <Tooltip />\r\n                  <Legend />\r\n                </PieChart>\r\n              </ResponsiveContainer>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </main>\r\n\r\n      <PantryAssistantModal />\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}