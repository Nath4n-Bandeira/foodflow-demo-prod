{"version":3,"sources":["turbopack:///[project]/node_modules/lucide-react/src/icons/arrow-right.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/lock.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/mail.ts","turbopack:///[project]/src/app/login/page.tsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ArrowRight\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJtMTIgNSA3IDctNyA3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/arrow-right\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowRight = createLucideIcon('ArrowRight', [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'm12 5 7 7-7 7', key: 'xquz4c' }],\n]);\n\nexport default ArrowRight;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Lock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTEiIHg9IjMiIHk9IjExIiByeD0iMiIgcnk9IjIiIC8+CiAgPHBhdGggZD0iTTcgMTFWN2E1IDUgMCAwIDEgMTAgMHY0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/lock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Lock = createLucideIcon('Lock', [\n  ['rect', { width: '18', height: '11', x: '3', y: '11', rx: '2', ry: '2', key: '1w4ew1' }],\n  ['path', { d: 'M7 11V7a5 5 0 0 1 10 0v4', key: 'fwvmzm' }],\n]);\n\nexport default Lock;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Mail\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHg9IjIiIHk9IjQiIHJ4PSIyIiAvPgogIDxwYXRoIGQ9Im0yMiA3LTguOTcgNS43YTEuOTQgMS45NCAwIDAgMS0yLjA2IDBMMiA3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/mail\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Mail = createLucideIcon('Mail', [\n  ['rect', { width: '20', height: '16', x: '2', y: '4', rx: '2', key: '18n3k1' }],\n  ['path', { d: 'm22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7', key: '1ocrg3' }],\n]);\n\nexport default Mail;\n","\"use client\"\r\n\r\nimport React from 'react'\r\nimport { useForm } from \"react-hook-form\"\r\nimport { toast } from \"sonner\"\r\nimport { useClienteStore } from \"@/src/app/context/ClienteContext\"\r\nimport { useRouter } from 'next/navigation'\r\nimport { Lock, Mail, ArrowRight } from 'lucide-react'\r\nimport Cookies from \"js-cookie\"\r\n\r\ntype Inputs = {\r\n  email: string\r\n  senha: string\r\n  manter: boolean\r\n}\r\n\r\nexport default function Login() {\r\n  const { register, handleSubmit } = useForm<Inputs>()    \r\n  const { logaCliente } = useClienteStore()\r\n  const router = useRouter()\r\n\r\n  async function verificaLogin(data: Inputs) {\r\n    try {\r\n      const response = await fetch(`${process.env.NEXT_PUBLIC_URL_API}/clientes/login`, {\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        method: \"POST\",\r\n        body: JSON.stringify({\r\n          email: data.email,\r\n          senha: data.senha\r\n        })\r\n      })\r\n\r\n      if (response.status === 200) {\r\n        const dados = await response.json()\r\n\r\n        // token é settado aqui (cookie + storage para o frontend)\r\n        Cookies.set(\"token\", dados.token, {\r\n          expires: data.manter ? 7 : undefined, // 7 dias\r\n          secure: true,\r\n          sameSite: 'Strict'\r\n        })\r\n\r\n        // Salva também no storage para que componentes client-side\r\n        // (ex: ChatbotIcon) possam detectar autenticação.\r\n        if (data.manter) {\r\n          localStorage.setItem(\"token\", dados.token)\r\n          localStorage.setItem(\"clienteKey\", dados.id)\r\n        } else {\r\n          sessionStorage.setItem(\"token\", dados.token)\r\n          localStorage.removeItem(\"clienteKey\")\r\n        }\r\n\r\n        logaCliente(dados)\r\n        toast.success(\"Login realizado com sucesso!\")\r\n        router.push(\"/perfil\")\r\n      } else {\r\n        toast.error(\"Erro... Login ou senha incorretos\", {\r\n          style: {\r\n            background: \"#dc2626\",\r\n            color: \"#ffffff\",\r\n          },\r\n        })\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Erro de login:\", error)\r\n      toast.error(\"Erro inesperado ao fazer login\", {\r\n        style: {\r\n          background: \"#dc2626\",\r\n          color: \"#ffffff\",\r\n        },\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex min-h-screen items-center justify-center bg-slate-50 p-4 font-sans\">\r\n      <div className=\"w-full max-w-md space-y-8 rounded-2xl bg-white p-8 shadow-lg\">\r\n        <div className=\"text-center\">\r\n          <h1 className=\"text-3xl md:text-4xl font-bold text-gray-900\">Bem-vindo de volta!</h1>\r\n          <p className=\"mt-2 text-slate-600\">Acesse sua conta para continuar.</p>\r\n        </div>\r\n\r\n        <form className=\"space-y-6\" onSubmit={handleSubmit(verificaLogin)}>\r\n          <div className=\"relative\">\r\n            <label htmlFor=\"email\" className=\"sr-only\">Seu e-mail</label>\r\n            <Mail className=\"absolute left-3.5 top-1/2 -translate-y-1/2 text-slate-400\" size={20} />\r\n            <input\r\n              id=\"email\"\r\n              type=\"email\"\r\n              placeholder=\"Digite seu e-mail\"\r\n              required\r\n              {...register(\"email\")}\r\n              className=\"w-full h-12 pl-12 pr-4 rounded-lg bg-slate-100 border border-slate-200 text-slate-900 placeholder:text-slate-500 transition-all focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-transparent\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"relative\">\r\n            <label htmlFor=\"password\" className=\"sr-only\">Senha de Acesso</label>\r\n            <Lock className=\"absolute left-3.5 top-1/2 -translate-y-1/2 text-slate-400\" size={20} />\r\n            <input\r\n              id=\"password\"\r\n              type=\"password\"\r\n              placeholder=\"Digite sua senha\"\r\n              required\r\n              {...register(\"senha\")}\r\n              className=\"w-full h-12 pl-12 pr-4 rounded-lg bg-slate-100 border border-slate-200 text-slate-900 placeholder:text-slate-500 transition-all focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-transparent\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex items-center justify-between text-sm\">\r\n            <label className=\"flex items-center gap-2 text-slate-600 select-none cursor-pointer hover:text-slate-800\">\r\n              <input\r\n                id=\"manter\"\r\n                type=\"checkbox\"\r\n                {...register(\"manter\")}\r\n                className=\"h-4 w-4 rounded border-slate-300 bg-slate-100 text-green-600 focus:ring-green-600 focus:ring-offset-0\"\r\n              />\r\n              <span>Manter conectado</span>\r\n            </label>\r\n            <a href=\"#\" className=\"font-medium text-green-600 hover:underline\">\r\n              Esqueceu a senha?\r\n            </a>\r\n          </div>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            className=\"inline-flex w-full items-center justify-center gap-2 h-12 px-6 rounded-lg bg-green-600 text-white font-bold hover:bg-green-700 transition-all shadow-lg shadow-green-500/20 hover:shadow-green-500/30 focus:outline-none focus:ring-2 focus:ring-green-600 focus:ring-offset-2\"\r\n          >\r\n            <span>Entrar</span>\r\n            <ArrowRight className=\"w-5 h-5\" />\r\n          </button>\r\n\r\n          <p className=\"text-center text-sm text-slate-600\">\r\n            Ainda não possui uma conta?{\" \"}\r\n            <a href=\"/register\" className=\"font-semibold text-green-600 hover:underline\">\r\n              Cadastre-se\r\n            </a>\r\n          </p>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"gICcwC,CAAA,ACAG,CDAH,WAAiB,CAAI,ACAL,CDAK,ACAL,CAAA,IDAU,CCAD,ADAC,CCAD,CAAA,ADAK,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAK,QAAA,CAAU,CAAA,CAAA,sCAC9C,CCAiB,ADAjB,CCAiB,ADAjB,EAAA,gDCF/B,CFAP,CAAA,CAAA,CAAA,CAAA,IAAA,EAAA,OAAA,6CECkD,GAAI,IAAK,IAAA,kEACJ,CAAA,CAAA,CAAA,CAAA,AAAK,QAAA,CAAU,CAAA,6BFFtE,CAAA,AEAA,ADAA,CCAA,AFAA,ACAA,CDAA,ACAA,ACAA,CAAA,ADAA,ADAA,ACAA,CCAA,AFAA,ACAA,CAAA,CAAA,EDAa,EAAA,OAAA,EAAiB,CCAE,ACAA,YFAY,CAAA,QACvC,CCAA,ACAA,AFAA,AAAE,CEAA,CAAA,AFAG,CAAY,AEAf,CAAA,ADAO,ADAQ,CEAf,ADAO,ADAQ,QAAA,CCAF,ACAQ,AFAN,CCAF,ADAE,AEAM,CDAR,ADAE,AEAM,CAAA,AFAN,AAAK,UAAU,CCAK,ACAL,AFAA,AACzC,CCD8C,ACAL,AFCxC,CCD6C,ACAL,AACxC,ADAA,ADAA,CEAA,ADAA,ADAA,CEAA,ADAA,ADAA,CCAA,ACAA,AFAA,CCAA,ACAA,AFAA,CAAQ,ACAA,ACAA,CDAA,ACAA,AFAA,CCAA,ACAA,AFAA,EAAK,CAAiB,AEA4B,ADAjB,CCAiB,ADAjB,ADAX,CAAA,ACAW,ACAiB,CFA5B,ACAW,ACAiB,CDAjB,ACAiB,AFA5B,CEA4B,ADAjB,ADAX,CCAW,ADAX,AEA4B,CFA5B,ACAW,ACAiB,CAAA,AFA5B,ACAW,CDAX,AEA4B,ADAjB,CCAiB,ADAjB,ADAX,CEA4B,ADAjB,ADAX,CEA4B,ADAjB,ADAX,CAAA,AEA4B,ADAjB,CCAiB,ADAjB,ADAX,CCAW,ADAX,AEA4B,AFA5B,CAAA,AEA4B,ADAjB,CAAA,ACAiB,AFA5B,CCAW,ACAiB,AFA5B,CEA4B,ADAjB,ADAX,UAAe,CEAa,AFC5D,CCAA,ACD4D,AAC5D,AFAA,CED4D,AAC5D,ADAA,ADAA,CED4D,CAAA,CAAA,CAAA,CAAA,oECZ7D,EAAA,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","ignoreList":[0,1,2]}