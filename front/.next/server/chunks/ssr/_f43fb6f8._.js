module.exports=[5434,a=>{"use strict";function b(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)a[d]=c[d]}return a}var c=function a(c,d){function e(a,e,f){if("undefined"!=typeof document){"number"==typeof(f=b({},d,f)).expires&&(f.expires=new Date(Date.now()+864e5*f.expires)),f.expires&&(f.expires=f.expires.toUTCString()),a=encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var g="";for(var h in f)f[h]&&(g+="; "+h,!0!==f[h]&&(g+="="+f[h].split(";")[0]));return document.cookie=a+"="+c.write(e,a)+g}}return Object.create({set:e,get:function(a){if("undefined"!=typeof document&&(!arguments.length||a)){for(var b=document.cookie?document.cookie.split("; "):[],d={},e=0;e<b.length;e++){var f=b[e].split("="),g=f.slice(1).join("=");try{var h=decodeURIComponent(f[0]);if(d[h]=c.read(g,h),a===h)break}catch(a){}}return a?d[a]:d}},remove:function(a,c){e(a,"",b({},c,{expires:-1}))},withAttributes:function(c){return a(this.converter,b({},this.attributes,c))},withConverter:function(c){return a(b({},this.converter,c),this.attributes)}},{attributes:{value:Object.freeze(d)},converter:{value:Object.freeze(c)}})}({read:function(a){return'"'===a[0]&&(a=a.slice(1,-1)),a.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(a){return encodeURIComponent(a).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});a.s(["default",()=>c])},20226,62435,a=>{"use strict";var b=a.i(72131);let c=a=>{let b,c=new Set,d=(a,d)=>{let e="function"==typeof a?a(b):a;if(!Object.is(e,b)){let a=b;b=(null!=d?d:"object"!=typeof e||null===e)?e:Object.assign({},b,e),c.forEach(c=>c(b,a))}},e=()=>b,f={setState:d,getState:e,getInitialState:()=>g,subscribe:a=>(c.add(a),()=>c.delete(a))},g=b=a(d,e,f);return f},d=a=>{let d=a?c(a):c,e=a=>(function(a,c=a=>a){let d=b.default.useSyncExternalStore(a.subscribe,b.default.useCallback(()=>c(a.getState()),[a,c]),b.default.useCallback(()=>c(a.getInitialState()),[a,c]));return b.default.useDebugValue(d),d})(d,a);return Object.assign(e,d),e},e=a=>a?d(a):d;a.s(["create",()=>e],20226);let f=a=>b=>{try{let c=a(b);if(c instanceof Promise)return c;return{then:a=>f(a)(c),catch(a){return this}}}catch(a){return{then(a){return this},catch:b=>f(b)(a)}}},g=(a,b)=>(c,d,e)=>{let g,h={storage:function(a,b){let c;try{c=a()}catch(a){return}return{getItem:a=>{var b;let d=a=>null===a?null:JSON.parse(a,void 0),e=null!=(b=c.getItem(a))?b:null;return e instanceof Promise?e.then(d):d(e)},setItem:(a,b)=>c.setItem(a,JSON.stringify(b,void 0)),removeItem:a=>c.removeItem(a)}}(()=>localStorage),partialize:a=>a,version:0,merge:(a,b)=>({...b,...a}),...b},i=!1,j=new Set,k=new Set,l=h.storage;if(!l)return a((...a)=>{console.warn(`[zustand persist middleware] Unable to update item '${h.name}', the given storage is currently unavailable.`),c(...a)},d,e);let m=()=>{let a=h.partialize({...d()});return l.setItem(h.name,{state:a,version:h.version})},n=e.setState;e.setState=(a,b)=>(n(a,b),m());let o=a((...a)=>(c(...a),m()),d,e);e.getInitialState=()=>o;let p=()=>{var a,b;if(!l)return;i=!1,j.forEach(a=>{var b;return a(null!=(b=d())?b:o)});let e=(null==(b=h.onRehydrateStorage)?void 0:b.call(h,null!=(a=d())?a:o))||void 0;return f(l.getItem.bind(l))(h.name).then(a=>{if(a)if("number"!=typeof a.version||a.version===h.version)return[!1,a.state];else{if(h.migrate){let b=h.migrate(a.state,a.version);return b instanceof Promise?b.then(a=>[!0,a]):[!0,b]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(a=>{var b;let[e,f]=a;if(c(g=h.merge(f,null!=(b=d())?b:o),!0),e)return m()}).then(()=>{null==e||e(g,void 0),g=d(),i=!0,k.forEach(a=>a(g))}).catch(a=>{null==e||e(void 0,a)})};return e.persist={setOptions:a=>{h={...h,...a},a.storage&&(l=a.storage)},clearStorage:()=>{null==l||l.removeItem(h.name)},getOptions:()=>h,rehydrate:()=>p(),hasHydrated:()=>i,onHydrate:a=>(j.add(a),()=>{j.delete(a)}),onFinishHydration:a=>(k.add(a),()=>{k.delete(a)})},h.skipHydration||p(),g||o};a.s(["persist",()=>g],62435)},17282,a=>{"use strict";var b=a.i(20226),c=a.i(62435);let d=(0,b.create)()((0,c.persist)(a=>({cliente:{},isHydrated:!1,logaCliente:b=>a({cliente:b}),deslogaCliente:()=>a({cliente:{}}),setIsHydrated:b=>a({isHydrated:b})}),{name:"cliente-storage",onRehydrateStorage:()=>a=>{a&&a.setIsHydrated(!0)}}));a.s(["useClienteStore",0,d])},66728,a=>{"use strict";var b=a.i(20226),c=a.i(62435),d=a.i(5434);let e=()=>{let a=d.default.get("token");return{"Content-Type":"application/json",...a&&{Authorization:`Bearer ${a}`}}},f=(0,b.create)()((0,c.persist)((a,b)=>({friends:[],messages:[],activeChat:null,friendRequests:[],loadFriends:async()=>{try{let b=await fetch("http://localhost:3001/amigos",{headers:e()});if(!b.ok)throw Error("Failed to load friends");let c=await b.json();a({friends:c})}catch(a){console.error("Error loading friends:",a)}},sendFriendRequest:async(b,c,d)=>{try{let c=await fetch("http://localhost:3001/friendRequests",{method:"POST",headers:e(),body:JSON.stringify({receiverId:b})});if(!c.ok)throw Error("Failed to send friend request");let d=await c.json();a(a=>({friendRequests:[...a.friendRequests,{id:d.id,senderId:d.senderId,senderName:d.senderName||"UsuÃ¡rio",senderEmail:d.senderEmail||"",receiverId:d.receiverId,status:"pending",createdAt:new Date(d.createdAt)}]}))}catch(a){throw a}},acceptFriendRequest:async(b,c)=>{try{if(!(await fetch(`http://localhost:3001/friendRequests/${b}/accept`,{method:"POST",headers:e()})).ok)throw Error("Failed to accept friend request");a(a=>({friendRequests:a.friendRequests.filter(a=>a.id!==b),friends:[...a.friends,c]}))}catch(a){throw a}},rejectFriendRequest:async b=>{try{if(!(await fetch(`http://localhost:3001/friendRequests/${b}/reject`,{method:"POST",headers:e()})).ok)throw Error("Failed to reject friend request");a(a=>({friendRequests:a.friendRequests.filter(a=>a.id!==b)}))}catch(a){throw a}},addFriend:b=>a(a=>({friends:[...a.friends,b]})),removeFriend:b=>a(a=>({friends:a.friends.filter(a=>a.id!==b)})),sendMessage:async b=>{try{let c=await fetch("http://localhost:3001/mensagens",{method:"POST",headers:e(),body:JSON.stringify({destinatarioId:b.receiverId,conteudo:b.content})});if(!c.ok)throw Error("Failed to send message");let d=await c.json();a(a=>({messages:[...a.messages,{id:d.id,senderId:d.remetenteId,receiverId:d.destinatarioId,content:d.conteudo,timestamp:new Date(d.createdAt),read:d.lida}]}))}catch(c){a(a=>({messages:[...a.messages,{...b,id:Date.now().toString(),timestamp:new Date,read:!1}]}))}},markAsRead:b=>a(a=>({messages:a.messages.map(a=>a.id===b?{...a,read:!0}:a)})),getConversation:(a,c)=>{let{messages:d}=b();return d.filter(b=>b.senderId===a&&b.receiverId===c||b.senderId===c&&b.receiverId===a).sort((a,b)=>new Date(a.timestamp).getTime()-new Date(b.timestamp).getTime())},loadConversation:async(b,c)=>{try{let d=await fetch(`http://localhost:3001/mensagens/conversa/${c}`,{headers:e()});if(!d.ok)throw Error(`Failed to load messages: ${d.status} ${d.statusText}`);let f=await d.json(),g=Array.isArray(f)?f.map(a=>({id:a.id,senderId:a.remetenteId,receiverId:a.destinatarioId,content:a.conteudo,timestamp:new Date(a.createdAt),read:a.lida})):[];a(a=>({messages:[...a.messages.filter(a=>(a.senderId!==b||a.receiverId!==c)&&(a.senderId!==c||a.receiverId!==b)),...g]}))}catch(a){}},setMessages:b=>a({messages:b}),openChat:b=>a({activeChat:b}),closeChat:()=>a({activeChat:null}),reset:()=>a({friends:[],messages:[],activeChat:null,friendRequests:[]})}),{name:"friends-storage",partialize:a=>({friends:a.friends,messages:a.messages,friendRequests:a.friendRequests})}));a.s(["useFriendsStore",0,f])},60246,a=>{"use strict";let b=(0,a.i(70106).default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);a.s(["Users",()=>b],60246)},33508,a=>{"use strict";let b=(0,a.i(70106).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],33508)},45222,a=>{"use strict";let b=(0,a.i(70106).default)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);a.s(["MessageCircle",()=>b],45222)},96221,a=>{"use strict";let b=(0,a.i(70106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)}];

//# sourceMappingURL=_f43fb6f8._.js.map